{"version":3,"sources":["components/SignIn.jsx","components/Popup.jsx","layout.js","images/404.jpg","components/404.jsx","components/Dashboard.jsx","components/Form.jsx","components/Collection.jsx","App.js","index.js","config.js"],"names":["SignIn","signIn","small","onClick","Popup","props","className","handleClose","content","Layout","currentUser","signOut","clearMessage","message","id","pageWrapId","outerContainerId","to","floating","large","icon","fontSize","tooltip","accountId","NotFound","src","Image404","alt","width","style","margin","React","Component","Dashboard","version","Form","onNftMint","onSubmit","min","max","type","Collection","contract","useState","nfts","setNfts","useEffect","a","nft_supply_for_owner","account_id","count","nft_tokens_for_owner","from_index","limit","parseInt","result","console","log","splitArrayIntoChunksOfLen","fetchData","arr","len","chunks","i","n","length","push","slice","map","chunk","nft","metadata","media","title","height","description","require","BOATLOAD_OF_GAS","Big","times","toFixed","App","nftContract","nearConfig","wallet","lastTransaction","provider","error","setMessage","decodeURI","window","history","pushState","location","origin","pathname","requestSignIn","contractId","contractName","methodNames","nft_mint","name","path","element","replace","index","e","preventDefault","fieldset","target","elements","amount","item","disabled","buy_animal","value","then","_","getConfig","process","NEAR_ENV","keyStore","nearAPI","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","balance","viewMethods","changeMethods","sender","nftContractName","connection","nearInitPromise","initContract","errorMessage","urlParams","URLSearchParams","search","has","get","ReactDOM","render","document","getElementById","CONTRACT_NAME","NFT_CONTRACT_NAME","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","keyPath","HOME","masterAccount","Error"],"mappings":"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","file":"static/js/main.c8c9a2b9.chunk.js","sourcesContent":["import React from 'react';\nimport { Button } from 'react-materialize';\n\nexport default function SignIn({signIn}) {\n  return (\n    <>\n      <header>\n                   <h1>Kawaii Zoo Homepage</h1>\n      </header>\n      <Button small onClick={signIn}>Log in</Button>\n      <p>\n          This app demonstrates how to mint nfts in with the NEAR blockchain. While minting\n          the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR.\n          The remaining NEAR that is not used gets refunded on completing the smart contrat call.\n      </p>\n      <p>\n          Go ahead and sign in to try it out!\n      </p>\n    </>\n  );\n}\n","import React from \"react\";\r\n\r\nconst Popup = props => {\r\n  return (\r\n    <div className=\"popup-box\">\r\n      <div className=\"box\">\r\n        <span className=\"close-icon\" onClick={props.handleClose}>x</span>\r\n        {props.content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport { Link, Outlet } from 'react-router-dom'\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport { Button } from 'react-materialize';\r\nimport PropTypes from 'prop-types';\r\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\r\nimport BrokenImageIcon from '@mui/icons-material/BrokenImage';\r\nimport Popup from './components/Popup';\r\n\r\nconst Layout = ({currentUser, signIn, signOut, clearMessage, message}) => {\r\n  return (\r\n    <div id=\"App\">\r\n        <Menu pageWrapId={ \"page-wrapper\" } outerContainerId={ \"App\" }>\r\n          <Link className=\"menu-item\" to=\"/\">\r\n            Dashboard\r\n          </Link>\r\n\r\n          <Link className=\"menu-item\" to=\"/collection\">\r\n            Collection\r\n          </Link>\r\n\r\n          <Link className=\"menu-item\" to=\"/marketplace\">\r\n            Marketplace\r\n          </Link>\r\n        </Menu>\r\n        <main id=\"page-wrapper\">\r\n          <Outlet/>\r\n        </main>\r\n        { currentUser\r\n          ? <Button onClick={signOut} floating large className='btn-login' icon={<AccountBalanceWalletIcon fontSize=\"medium\" />} tooltip={'Log out ' + currentUser.accountId + '.'} />\r\n          : <Button onClick={signIn} floating large className='btn-login' icon={<BrokenImageIcon fontSize=\"medium\" />} tooltip='Log in using NEAR wallet.' />\r\n        }        \r\n        {message && <Popup\r\n          content={<>\r\n            <b>A message for you</b>\r\n            <p>{message}</p>\r\n          </>}\r\n          handleClose={clearMessage}\r\n        />}\r\n    </div>\r\n  );\r\n};\r\n\r\nLayout.propTypes = {\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  }),\r\n  signIn: PropTypes.func.isRequired,\r\n  signOut: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Layout;","export default __webpack_public_path__ + \"static/media/404.6fa35088.jpg\";","import React from 'react'\r\nimport Image404 from '../images/404.jpg';\r\n\r\nclass NotFound extends React.Component {\r\n   render() {\r\n      return <img src={Image404} alt=\"Nothing is here.\" \r\n                  width='900'\r\n                  style={{margin:'10em'}}/>;\r\n   }\r\n}\r\nexport default NotFound;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Dashboard = ({version, currentUser}) => {\r\n   return <>\r\n                 <header>\r\n                   <h1>NEAR Challenge #6 - Kawaii Zoo NFTs - {version}</h1>\r\n                 </header>\r\n                  <p>\r\n                      This app demonstrates how to mint nfts in with the NEAR blockchain. While minting\r\n                      the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR.\r\n                      The remaining NEAR that is not used gets refunded on completing the smart contrat call.\r\n                  </p>\r\n                  <p>\r\n                      The basic idea was to create a DeviantArt for the NEAR chain. So everyone can mint their\r\n                      own artworks and through the marketplace they can then buy physical and digital products\r\n                      from the minted NFTs. This includes, but is not limited to, buying rights to use the images\r\n                      on their websites. The information, who has rights could be stored in the metadata of the NFTs.\r\n                      This site yould then provide tools to check whether a specific webpage has the rights to use\r\n                      the artwork.\r\n                  </p>\r\n                 <h5>Head over to <Link className=\"menu-item\" to=\"/collection\">your collection</Link> to mint \r\n                     you first animal or go to <Link className=\"menu-item\" to=\"/marketplace\">the marketplace</Link> to\r\n                     discover what others created.\r\n                 </h5>\r\n             </>\r\n}\r\n\r\nDashboard.propTypes = {\r\n  version: PropTypes.string.isRequired,\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  })\r\n};\r\n\r\nexport default Dashboard;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Range, Button } from 'react-materialize';\n\nexport default function Form({ onNftMint }) {\n  return (\n    <form onSubmit={onNftMint}>\n      <fieldset id=\"fieldset\">\n        <div className=\"highlight\">\n          <p>Select the amount of animals you want to mint. Each animal costs 1 Ⓝ.</p>\n          <Range id=\"amount\" min=\"1\" max=\"7\"/>\n        </div>\n        <Button type=\"submit\" small\n                tooltip=\"Mint the chosen amount of animals.\">\n          Mint!\n        </Button>\n      </fieldset>\n    </form>\n  );\n}\n\nForm.propTypes = {\n  onNftMint: PropTypes.func.isRequired,\n  errorMessage: PropTypes.string.isRequired,\n};","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Form from './Form';\r\n\r\nconst Collection = ({currentUser, onNftMint, contract}) => {\r\n    const [nfts, setNfts] = useState([]);\r\n  \r\n  useEffect(() => {\r\n      async function fetchData() {\r\n        const count = await contract.nft_supply_for_owner({account_id: currentUser.accountId});\r\n        const result = await contract.nft_tokens_for_owner(\r\n        {\r\n            account_id: currentUser.accountId,\r\n            from_index: \"0\",\r\n            limit: parseInt(count)\r\n        });\r\n        console.log(result);\r\n        setNfts(splitArrayIntoChunksOfLen(result, 3));\r\n      }\r\n      \r\n      fetchData();\r\n  }, [contract, currentUser]);\r\n  \r\n  const splitArrayIntoChunksOfLen = (arr, len) => {\r\n    var chunks = [], i = 0, n = arr.length;\r\n    while (i < n) {\r\n      chunks.push(arr.slice(i, i += len));\r\n    }\r\n    return chunks;\r\n  }\r\n  \r\n   return <>\r\n                 <header>\r\n                   <h1>{currentUser.accountId}'s Collection</h1>\r\n                 </header>\r\n                 \r\n                  {nfts.map(chunk => \r\n                  <div className=\"row\">\r\n                    {chunk.map(nft =>\r\n                      <div className=\"col s4\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-image\">\r\n                              <img src={nft.metadata.media} alt={nft.metadata.title} height=\"200\" className='nft-image'/>\r\n                            </div>\r\n                            <div className=\"card-title\">{nft.metadata.title}</div>\r\n                            <div className=\"card-content\">\r\n                              <p>{nft.metadata.description}</p>\r\n                            </div>\r\n                          </div>\r\n                      </div>)}          \r\n                  </div>)}\r\n                 <h5>Mint a new NFT below.</h5>\r\n                 <Form onNftMint={onNftMint} />\r\n          </>\r\n}\r\n\r\nCollection.propTypes = {\r\n  onNftMint: PropTypes.func.isRequired,\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  }),\r\n  contract: PropTypes.shape({\r\n    nft_supply_for_owner: PropTypes.func.isRequired,\r\n    nft_tokens_for_owner: PropTypes.func.isRequired\r\n  })\r\n};\r\n\r\nexport default Collection;","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport SignIn from './components/SignIn';\nimport Big from 'big.js';\nimport Layout from './layout';\nimport NotFound from './components/404.jsx';\nimport Dashboard from './components/Dashboard.jsx';\nimport Collection from './components/Collection.jsx';\nimport 'materialize-css/dist/css/materialize.css'\nimport './App.css';\nimport { Route, Routes } from 'react-router-dom'\nvar version = require('../package.json').version;\nrequire('materialize-css');\n\nconst BOATLOAD_OF_GAS = Big(3).times(10 ** 14).toFixed();\n\nconst App = ({ contract, nftContract, currentUser, nearConfig, wallet, provider, lastTransaction, error }) => {\n  const [message, setMessage] = useState('');\n\n  const onNftMint = (e) => {\n    e.preventDefault();\n\n    const { fieldset } = e.target.elements;\n    const amount = e.target.elements.item(1);\n\n    fieldset.disabled = true;\n\n    contract.buy_animal(\n      {\n        count: parseInt(amount.value)\n      },\n      BOATLOAD_OF_GAS,\n      Big('1').times(10 ** 24).times(amount.value).toFixed()\n    ).then((_) => {\n      console.log(\"Successfully minted.\");\n    })\n  }\n  \n  useEffect(() => {\n      if (error){\n        setMessage(decodeURI(error));\n      }\n      else if (lastTransaction) {          \n          setMessage(`Successfully minted the NFT in transaction ${lastTransaction}`);\n      }\n      window.history.pushState({}, \"\", window.location.origin + window.location.pathname);\n  }, [lastTransaction, error]);\n  \n  const signIn = () => {\n    wallet.requestSignIn(\n      {contractId: nearConfig.contractName, methodNames: [contract.nft_mint.name]}, //contract requesting access\n      'NEAR Challenge #6 - Kawaii Zoo NFTs', //optional name\n      null, //optional URL to redirect to if the sign in was successful\n      null //optional URL to redirect to if the sign in was NOT successful\n    );\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  const clearMessage = () => {\n    setMessage('');\n  };\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout currentUser={currentUser} signIn={signIn} signOut={signOut} clearMessage={clearMessage} message={message}/>}>\n        <Route index element={\n          currentUser\n            ? <Dashboard version={version} currentUser={currentUser}/>\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"collection\" element={\n          currentUser\n            ? <Collection onNftMint={onNftMint} currentUser={currentUser} contract={nftContract}/>\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"*\" element={<NotFound/>}/>\n      </Route>\n    </Routes>\n  );\n}\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    buy_animal: PropTypes.func.isRequired\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired\n  }).isRequired\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport App from './App';\nimport getConfig from './config.js';\nimport * as nearAPI from 'near-api-js';\n\n// Initializing contract\nasync function initContract() {\n  \n  // get network configuration values from config.js\n  // based on the network ID we pass to getConfig()\n  const nearConfig = getConfig(process.env.NEAR_ENV || 'testnet');\n\n  // create a keyStore for signing transactions using the user's key\n  // which is located in the browser local storage after user logs in\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n\n  // Initializing connection to the NEAR testnet\n  const near = await nearAPI.connect({ keyStore, ...nearConfig });\n\n  // Initialize wallet connection\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in user's account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      // Gets the accountId as a string\n      accountId: walletConnection.getAccountId(),\n      // Gets the user's token balance\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    // User's accountId as a string\n    walletConnection.account(),\n    // accountId of the contract we will be loading\n    // NOTE: All contracts on NEAR are deployed to an account and\n    // accounts can only have one contract deployed to them.\n    nearConfig.contractName,\n    {\n      // View methods are read-only – they don't modify the state, but usually return some value\n      viewMethods: [],\n      // Change methods can modify the state, but you don't receive the returned value when called\n      changeMethods: ['buy_animal', 'payout'],\n      // Sender is the account ID to initialize transactions.\n      // getAccountId() will return empty string if user is still unauthorized\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  // Initializing our contract APIs by contract name and configuration\n  const nftContract = await new nearAPI.Contract(\n    // User's accountId as a string\n    walletConnection.account(),\n    // accountId of the contract we will be loading\n    // NOTE: All contracts on NEAR are deployed to an account and\n    // accounts can only have one contract deployed to them.\n    nearConfig.nftContractName,\n    {\n      // View methods are read-only – they don't modify the state, but usually return some value\n      viewMethods: ['nft_supply_for_owner', 'nft_tokens_for_owner'],\n      // Change methods can modify the state, but you don't receive the returned value when called\n      changeMethods: [],\n      // Sender is the account ID to initialize transactions.\n      // getAccountId() will return empty string if user is still unauthorized\n      sender: walletConnection.getAccountId(),\n    }\n  );\n  \n  const provider = near.connection.provider;\n  \n  return { contract, nftContract, currentUser, nearConfig, walletConnection, provider };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, nftContract, currentUser, nearConfig, walletConnection, provider }) => {\n    let urlParams = new URLSearchParams(window.location.search);\n    let lastTransaction;\n    if(urlParams.has('transactionHashes')){\n        lastTransaction = urlParams.get('transactionHashes');\n    }\n    let errorMessage;\n    if(urlParams.has('errorMessage')){\n        errorMessage = urlParams.get('errorMessage');\n    }\n    ReactDOM.render(\n\t  <Router>\n        <App\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={walletConnection}\n          lastTransaction={lastTransaction}\n          provider={provider}\n          error={errorMessage}\n          nftContract={nftContract}\n        />\n\t  </Router>,\n      document.getElementById('root')\n    );\n  }\n);\n\n","const CONTRACT_NAME = process.env.CONTRACT_NAME || 'kawaii-zoo-game.cryptosketches.testnet';\nconst NFT_CONTRACT_NAME = process.env.NFT_CONTRACT_NAME || 'kawaii-zoo-nft.cryptosketches.testnet';\n\nfunction getConfig(env) {\n  switch(env) {\n    case 'production':\n    case 'mainnet':\n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org'\n      };\n    case 'development':\n    case 'testnet':\n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org'\n      };\n    case 'betanet':\n      return {\n        networkId: 'betanet',\n        nodeUrl: 'https://rpc.betanet.near.org',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME,\n        walletUrl: 'https://wallet.betanet.near.org',\n        helperUrl: 'https://helper.betanet.near.org'\n      };\n    case 'local':\n      return {\n        networkId: 'local',\n        nodeUrl: 'http://localhost:3030',\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: 'http://localhost:4000/wallet',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME\n      };\n    case 'test':\n    case 'ci':\n      return {\n        networkId: 'shared-test',\n        nodeUrl: 'https://rpc.ci-testnet.near.org',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME,\n        masterAccount: 'test.near'\n      };\n    case 'ci-betanet':\n      return {\n        networkId: 'shared-test-staging',\n        nodeUrl: 'https://rpc.ci-betanet.near.org',\n        contractName: CONTRACT_NAME,\n        nftContractName: NFT_CONTRACT_NAME,\n        masterAccount: 'test.near'\n      };\n    default:\n      throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`);\n  }\n}\n\nmodule.exports = getConfig;\n"],"sourceRoot":""}